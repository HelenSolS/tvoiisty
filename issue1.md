# AI Core Refactor ‚Äî Vision + Prompt Builder (—á–µ—Ä–µ–∑ Fal, FAL_KEY)

## üîí DEV-ONLY WORKFLOW
–†–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –≤ –≤–µ—Ç–∫–µ **dev**.  
Main –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å.  
–°–æ–∑–¥–∞—Ç—å feature-–≤–µ—Ç–∫—É –æ—Ç dev.  
–°–¥–µ–ª–∞—Ç—å PR –≤ dev.  
–ù–∏—á–µ–≥–æ –Ω–µ –ø—É—à–∏—Ç—å –≤ main.  
–ù–µ –ª–æ–º–∞—Ç—å —Ç–µ–∫—É—â–∏–π pipeline.

---

## üéØ –¶–µ–ª—å
–í—ã–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π AI-—Å–ª–æ–π (–≤—ã–∑–æ–≤ —á–µ—Ä–µ–∑ Fal, –∫–ª—é—á FAL_KEY; –ø—Ä—è–º–æ–π OpenAI –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º):
1. Vision (—á–µ—Ä–µ–∑ Fal) –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–¥–µ–∂–¥—É
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON
3. Prompt Builder (—á–µ—Ä–µ–∑ Fal) —Å—Ç—Ä–æ–∏—Ç Final_Image_Prompt
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç prompt

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –®–∞–≥ 1 ‚Äî Vision (—á–µ—Ä–µ–∑ Fal, FAL_KEY)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON:
- garment_type
- dominant_color
- material
- fit
- sleeves
- length
- style
- details

### –®–∞–≥ 2 ‚Äî Prompt Builder (—á–µ—Ä–µ–∑ Fal, FAL_KEY)
–°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–æ–≥–∏–π image-edit prompt.
Return only final prompt text.

---

## ‚úÖ Acceptance Criteria
- JSON –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- Prompt —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–µ–∫—É—â–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π prompt