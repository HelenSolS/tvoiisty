# 11. Нефункциональные требования

## 11.1. Производительность
- Каталог образов: ответ API <= 500 мс при limit=20.
- Статусы задач: polling каждые 2–4 сек; API должен выдерживать всплески.

## 11.2. Надёжность пайплайна
- Каждая задача имеет idempotency key.
- Worker должен уметь безопасно повторять выполнение (retry) без двойных списаний.
- Ретрай по сетевым ошибкам: 3 попытки с backoff.

## 11.3. Безопасность
- Telegram initData верифицируется сервером.
- Все ссылки на файлы — либо приватные, либо pre-signed с TTL.
- Ограничение размера upload.
- Rate limit на публичные эндпоинты.

## 11.4. Контент и модерация
- NSFW: блокируем porn/explicit.
- Эротика “в рамках приличия” допускается, но если модель не различает — действуем строго.
- При спорных случаях: отклонять в MVP.

## 11.5. Логи и трассировка
- В каждом запросе: request_id.
- В каждом job: job_id.
- Логи worker связываются с job_id.

